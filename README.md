# üöÄ Raspberry Pi First-Boot Setup Scripts

A collection of scripts designed to configure a Raspberry Pi's boot and root partitions for a headless setup, right after flashing the OS image.

This project provides both a primary Bash script and two POSIX-compliant shell scripts for maximum portability.

---

## ‚ú® Features

-   **Interactive Partition Selection**: Uses `lsblk` to interactively select the `boot` and `root` partitions.
-   **Dependency Checking**: Automatically checks for required tools and attempts to install them using the system's package manager.
-   **SSH Enablement**: Creates the `ssh` file in the boot partition to enable SSH on the first boot.
-   **WiFi Configuration**: Creates a `wpa_supplicant.conf` file to pre-configure WiFi credentials.
-   **User Creation**: Creates a `userconf` file with a username and a securely hashed password to create a new user on first boot.

---

## üìÇ Scripts Included

This repository contains three versions of the setup script:

1.  `setup.sh`
    -   The primary, feature-rich script written in **Bash**. It is recommended for most users on modern Linux systems.

2.  `POSIX.sh`
    -   A direct, line-by-line translation of the Bash script into a fully POSIX-compliant shell script. This version ensures maximum portability across different `sh` environments. It includes secure, silent password prompts.

3.  `POSIX-true.sh`
    -   Identical to `POSIX.sh`, but with one key difference: password prompts are visible. This was created upon user request for environments where seeing the password as you type is preferred.

> [!WARNING]
> The POSIX-compliant scripts (`POSIX.sh` and `POSIX-true.sh`) were **generated by an AI assistant** as a direct translation of the original `setup.sh`. While they are designed to be functionally identical, they are more verbose and complex due to the constraints of the POSIX `sh` standard.

---

## üõ†Ô∏è Prerequisites & Dependency Installation

The scripts are designed to be self-contained but rely on a set of common command-line tools.

### Required Commands

The script requires the following tools to be available on your system:
- `tput`
- `mkpasswd`
- `lsblk`
- `mktemp`
- `grep`
- `cut`
- `wc`
- `cat`
- `sed`
- `expr`
- `sudo`

### Automatic Installation

The script will automatically check for these dependencies. If any are missing, it will attempt to install the required packages using your system's package manager.

**Supported Package Managers:**
- `apt` (for Debian, Ubuntu, etc.)
- `pacman` (for Arch Linux)
- `dnf` (for Fedora, CentOS)

The script will prompt for `sudo` privileges if necessary to complete the installation.

---

## ‚ñ∂Ô∏è How to Use

1.  Make the desired script executable:
    ```sh
    chmod +x setup.sh
    # OR
    chmod +x POSIX.sh
	# OR
    chmod +x POSIX-true.sh
    ```

2.  Run the script:
    ```sh
    ./setup.sh
    # OR
    ./POSIX.sh
	# OR
    ./POSIX-true.sh
    ```

3.  Follow the on-screen prompts to select your partitions and configure your Raspberry Pi.

---
<p align="center">
  Generated with assistance from an AI ü§ñ
</p>