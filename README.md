# ðŸš€ Raspberry Pi First-Boot Setup Scripts

A collection of scripts designed to configure a Raspberry Pi's boot and root partitions for a headless setup, right after flashing the OS image.

This project provides both a primary Bash script and two POSIX-compliant shell scripts for maximum portability.

---

## ðŸŒ OS Support

These scripts are designed for broad compatibility across various operating systems.

-   **Linux** [all modern Linux]:
    -   Debian-based systems (e.g., Ubuntu, Raspberry Pi OS)
    -   Arch-based systems (e.g., Manjaro)
    -   Fedora-based systems (e.g., CentOS, RHEL)
    -   Other modern Linux distributions.

-   **POSIX compliant**:
    -   macOS
    -   BSD (e.g., FreeBSD, OpenBSD, NetBSD)
    -   Other Unix-like systems
> [!WARNING]
> The POSIX-compliant scripts (`POSIX.sh`) is **generated by an AI assistant** as a direct translation of the original `setup.sh`. While they are designed to be functionally identical, they are more verbose and complex due to the constraints of the POSIX `sh` standard.

---

## âœ¨ Features

-   **Interactive Partition Selection**: Uses `lsblk` to interactively select the `boot` and `root` partitions.
-   **Dependency Checking**: Automatically checks for required tools and attempts to install them using the system's package manager.
-   **SSH Enablement**: Creates the `ssh` file in the boot partition to enable SSH on the first boot.
-   **WiFi Configuration**: Creates a `wpa_supplicant.conf` file to pre-configure WiFi credentials.
-   **User Creation**: Creates a `userconf` file with a username and a securely hashed password to create a new user on first boot.

---

## ðŸ“‚ Scripts Included

This repository contains two versions of the setup script:

1.  `setup.sh`
    -   The primary, feature-rich script written in **Bash**. It is recommended for most users on modern Linux systems.

2.  `POSIX.sh`
    -   A direct, line-by-line translation of the Bash script into a fully POSIX-compliant shell script. This version ensures maximum portability across different `sh` environments. It includes secure, silent password prompts.

---

## â–¶ï¸ How to Use

### Local Execution

1.  Make the desired script executable:
    ```sh
    chmod +x setup.sh
    # OR
    chmod +x POSIX.sh
    ```

2.  Run the script:
    ```sh
    ./setup.sh
    # OR
    ./POSIX.sh
    ```

3.  Follow the on-screen prompts to select your partitions and configure your Raspberry Pi.

### Online Execution

You can also execute the scripts directly from the internet using `curl`.

#### Bash (`setup.sh`)
```sh
curl -fsSL https://raw.githubusercontent.com/corechunk/rpi_server/main/setup.sh | bash
```

#### POSIX (`POSIX.sh`)
```sh
curl -fsSL https://raw.githubusercontent.com/corechunk/rpi_server/main/POSIX.sh | sh
```

> [!CAUTION]
> Executing scripts directly from the internet can be a security risk. Always review the script content before executing.
